<!DOCTYPE html>


<html lang="cn">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>rust_1 |  Yi-Ming Ding</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
        
      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      <section class="outer">
  <article
  id="page-"
  class="article article-type-page"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  rust_1
</h1>
 

      
    </header>
       
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="1-2-安装Rust"><a href="#1-2-安装Rust" class="headerlink" title="1.2 安装Rust"></a>1.2 安装Rust</h1><p>参考官网安装教程：<a target="_blank" rel="noopener" href="https://www.rust-lang.org/">https://www.rust-lang.org/</a></p>
<h1 id="1-3-Hello-World"><a href="#1-3-Hello-World" class="headerlink" title="1.3 Hello, World"></a>1.3 Hello, World</h1><p><strong>Rust源文件的后缀为</strong> <code>main.rs</code></p>
<p><strong>Hello-World 程序</strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Hello, World!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>fn</code> 意为function<ul>
<li>与C++中的<code>int main() &#123;&#125;</code>不同，Rust中的<code>main()</code>函数没有返回值，它也是每个Rust程序最先执行的代码</li>
</ul>
</li>
<li><code>println!</code>是一个宏而非函数，用于输出字符串，其中<code>ln</code>意为line<ul>
<li>它是一个<strong>Rust macro（宏）</strong></li>
<li>上述程序中，<u>该函数前的缩进是4个空格而不是tab</u></li>
<li>与C++一样，每一行代码以<code>;</code>结尾</li>
</ul>
</li>
</ul>
<hr>
<h2 id="编译方式"><a href="#编译方式" class="headerlink" title="编译方式"></a><strong>编译方式</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rustc main.rs</span><br></pre></td></tr></table></figure>

<ul>
<li><code>rustc</code>中的<code>c</code>意为compiler</li>
<li><code>rustc</code>只适合编译简单的Rust程序，对于复杂的程序，需要使用<code>cargo</code></li>
</ul>
<p>编译成功后会生成二进制文件<code>main</code>，与源文件<code>main.rs</code>同名</p>
<p><strong>运行二进制文件</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./main</span><br></pre></td></tr></table></figure>

<h1 id="1-4-Hello-Cargo"><a href="#1-4-Hello-Cargo" class="headerlink" title="1.4 Hello, Cargo"></a>1.4 Hello, Cargo</h1><p>Cargo是Rust的构建系统和包管理工具（谁懂CMake的痛……）</p>
<ul>
<li>构建代码、下载依赖库、构建库</li>
</ul>
<p>在终端可以通过命令<code>cargo --version</code>查看Cargo版本</p>
<hr>
<h2 id="使用Cargo创建项目"><a href="#使用Cargo创建项目" class="headerlink" title="使用Cargo创建项目"></a>使用Cargo创建项目</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cargo new project_name</span><br></pre></td></tr></table></figure>

<p>随后Cargo将生成名为<code>project_name</code>的文件夹，并包含</p>
<ul>
<li>文件<code>Cargo.toml</code></li>
<li>文件夹<code>src</code><ul>
<li>包含源文件<code>main.rs</code></li>
<li>所有的源文件都应当放在<code>src</code>下</li>
</ul>
</li>
</ul>
<hr>
<h3 id="Cargo-toml"><a href="#Cargo-toml" class="headerlink" title="Cargo.toml"></a>Cargo.toml</h3><p>后缀<code>toml</code>是“Tom’s Obvious, Minimal Language”的简称，是Cargo的配置格式</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[package]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;project_name&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.0&quot;</span></span><br><span class="line"><span class="attr">edition</span> = <span class="string">&quot;2021&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[dependencies]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>区域标题<code>[package]</code>表示下方内容是用来配置package的</li>
<li><code>[dependencies]</code>列出项目的依赖项</li>
</ul>
<p><u>在Rust中，调的库或者包被称作“crate”，中文意为“板条箱”</u></p>
<hr>
<h2 id="Cargo构建项目"><a href="#Cargo构建项目" class="headerlink" title="Cargo构建项目"></a>Cargo构建项目</h2><p>在项目目录下，使用命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cargo build</span><br></pre></td></tr></table></figure>

<p>来构建项目。</p>
<ul>
<li>如果是第一次构建，将会生成<code>cargo.lock</code>文件，该文件负责追踪项目版本，不需要手动修改</li>
</ul>
<p>此外，上述命令还会生成二进制文件<code>target/debug/project_name</code>，与<code>rustc</code>命令一致</p>
<hr>
<h2 id="Cargo构建和运行项目"><a href="#Cargo构建和运行项目" class="headerlink" title="Cargo构建和运行项目"></a>Cargo构建和运行项目</h2><p>使用命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cargo run</span><br></pre></td></tr></table></figure>

<p>可以构建并立即运行二进制文件</p>
<ul>
<li>如果之前编译成功过且源代码没有改变，将直接运行二进制文件</li>
</ul>
<hr>
<h2 id="Cargo检查代码"><a href="#Cargo检查代码" class="headerlink" title="Cargo检查代码"></a>Cargo检查代码</h2><p>使用命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cargo check</span><br></pre></td></tr></table></figure>

<p>可以检查代码来确保编译，但不会生成可执行文件</p>
<ul>
<li>相比<code>cargo build</code>，<code>cargo check</code>的执行速度更快，用于开发过程中来检查代码问题</li>
<li>只有在需要时或项目开发结束时，才调用<code>cargo build</code>来执行程序</li>
</ul>
<hr>
<h2 id="Cargo构建和发布项目"><a href="#Cargo构建和发布项目" class="headerlink" title="Cargo构建和发布项目"></a>Cargo构建和发布项目</h2><p>注意<code>cargo build</code>命令主要用于个人调试使用，如果是为发布而构建，那么一般执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cargo build --release</span><br></pre></td></tr></table></figure>

<ul>
<li>该命令的编译时间更长，同时将优化代码</li>
<li>可执行文件将生成在<code>target/release</code>而不是<code>target/debug</code></li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
  
   
  
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2023-2025
        <i class=""></i> Yi-Ming Ding
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Yi-Ming Ding"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">Home</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about/">About</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/publ/">Publ.</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/notes/">Notes</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/pics/">Gallery</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://github.com/ymd-physics">GitHub</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="mailto:dingyiming@westlake.edu.cn">Contact</a>
    </li>
    
  </ul>
</div>
    </aside>
    
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.staticfile.org/mathjax/2.7.7/MathJax.js"></script>
<script src="https://cdn.staticfile.org/mathjax/2.7.7/config/TeX-AMS-MML_HTMLorMML-full.js"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->

<!-- busuanzi  -->

<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>